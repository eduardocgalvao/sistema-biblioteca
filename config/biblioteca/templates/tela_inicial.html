{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Tela de catÃ¡logo -->
    <title>CatÃ¡logo de Livros - BookStack</title>

    <!-- Estilos principais -->
    <link rel="stylesheet" href="{% static 'css/tela_inicial.css' %}" />

    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Menu lateral -->
    <aside class="sidebar">
      <div class="logo-area">
        <img src="{% static 'img/logo.png' %}" alt="Logo" />
      </div>

      <nav class="menu">
        <a href="/todosLivros/"><i>ğŸ“š</i> Todos os Livros</a>
        <a href="/livro/novo/"><i>â•</i> Adicionar Livros</a>
        <a href="/editoras/"><i>ğŸ¢</i> Editoras</a>
        <a href="/autores/"><i>ğŸ–‹ï¸</i> Autores</a>
        <a href="/categorias/"><i>ğŸ“¦</i> Categorias</a>
      </nav>

      <div class="logout">
        <a href="/"><i>ğŸšª</i> Encerrar SessÃ£o</a>
      </div>
    </aside>

    <!-- ConteÃºdo principal -->
    <main class="content">

      <!-- Busca por tÃ­tulo -->
      <form method="GET" class="search-box">
        <input
          type="text"
          name="q"
          placeholder="Procurar por nome do livro..."
          value="{{ query|default:'' }}"
        />
      </form>

      <h1 class="title">CatÃ¡logo de Livros</h1>

      <section class="books-grid">

        {% for livro in livros %}
        <div class="book-card">

          <!-- Capa do livro -->
          {% if livro.capa %}
          <img src="{{ livro.capa.url }}" alt="{{ livro.titulo }}" />
          {% else %}
          <img src="{% static 'img/placeholder.png' %}" alt="Sem capa" />
          {% endif %}

          <p>{{ livro.titulo }}</p>
        </div>

        {% empty %}
        <!-- Lista vazia -->
        <p>Nenhum livro encontrado.</p>
        {% endfor %}

      </section>

    </main>
  </body>
</html>
