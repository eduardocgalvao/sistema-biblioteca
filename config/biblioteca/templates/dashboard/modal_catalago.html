<!-- templates/dashboard/modal_catalago.html -->

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

<div id="bookModal" class="modal-overlay" onclick="closeModal(event)" style="display: none;">
    <div class="modal-content" onclick="event.stopPropagation()" role="document">
        <div class="modal-header">
            <h2 class="modal-title" id="modalBookMainTitle">Carregando...</h2>
            <button class="modal-close" onclick="closeModal(event)" aria-label="Fechar modal">
                &times;
            </button>
        </div>
        
        <div class="modal-body">
            <div class="book-detail-grid">
                <div class="book-detail-cover">
                    <img id="modalBookCover" src="" alt="Capa do livro" loading="lazy">
                </div>
                
                <div class="book-detail-info">
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“š TÃ­tulo:</span>
                        <span class="detail-value" id="modalBookTitleText"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ‘¤ Autor(es):</span>
                        <span class="detail-value" id="modalBookAuthors"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ¢ Editora:</span>
                        <span class="detail-value" id="modalBookPublisher"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ·ï¸ Categoria(s):</span>
                        <span class="detail-value" id="modalBookCategories"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ”¢ ISBN:</span>
                        <span class="detail-value" id="modalBookISBN"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“… Ano:</span>
                        <span class="detail-value" id="modalBookYear"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“¦ Quantidade:</span>
                        <span class="detail-value" id="modalBookQuantity"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“Š DisponÃ­vel:</span>
                        <span class="detail-value" id="modalBookAvailable"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“ˆ Status:</span>
                        <span class="detail-value" id="modalBookStatus"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“… Cadastrado em:</span>
                        <span class="detail-value" id="modalBookCreated"></span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">ğŸ“ DescriÃ§Ã£o:</span>
                        <div class="detail-value book-description" id="modalBookDescription"></div>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                {% if user.is_authenticated %}
                <button id="btnEmprestar" class="btn btn-primary" onclick="goToLoan()">
                    ğŸ“¥ Emprestar Livro
                </button>
                {% else %}
                <a href="{% url 'login' %}?next={% url 'livro_list' %}" class="btn btn-primary">
                    ğŸ”‘ Fazer Login para Emprestar
                </a>
                {% endif %}
                
                <button class="btn btn-secondary" onclick="closeModal(event)">
                    âœ• Fechar
                </button>
            </div>
        </div>
    </div>
</div>